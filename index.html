<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Welcome to my Portfolio</title>

    <!-- linking stylesheet -->
    <link rel="stylesheet" href="./CSS/style.css" />
    <link rel="preload" href="images/background(1).webp" as="image" />
  </head>
  <div class="preloader">
    <div class="counter">0</div>
  </div>
  <body>
    <main id="splash">
      <div class="vignette"></div>
      <img
        rel="preload"
        src="images/background(1).webp"
        data-rotation="0"
        data-speedx="0.3"
        data-speedy="0.38"
        data-speedz="0"
        data-rotation="0"
        data-distance="-200"
        class="parallax bg-img"
      />

      <img
        src="images/mountain_5.webp"
        data-rotation="0"
        data-speedx="0.195"
        data-speedy="0.305"
        data-speedz="0"
        data-rotation="0"
        data-distance="1100"
        class="parallax mountain-10"
      />

      <img
        src="images/mountain_6.webp"
        data-rotation="0.02"
        data-speedx="0.125"
        data-speedy="0.155"
        data-speedz="0.15"
        data-rotation="0.02"
        data-distance="1700"
        class="parallax mountain-9"
      />

      <img
        src="images/mountain_8.png"
        data-rotation="0.02"
        data-speedx="0.1"
        data-speedy="0.11"
        data-speedz="0"
        data-rotation="0.02"
        data-distance="1600"
        class="parallax mountain-8"
      />

      <img
        src="images/mountain_8.png"
        data-rotation="0.09"
        data-speedx="0.1"
        data-speedy="0.1"
        data-speedz="0"
        data-rotation="0.09"
        data-distance="1900"
        class="parallax mountain-7"
      />

      <div
        class="text parallax"
        sdata-rotation="0.11"
        data-speedx="0.07"
        data-speedy="0.07"
        data-rotation="0.11"
        data-speedz="0"
      >
        <h2>Jaskaran</h2>
        <br />
        <h1>Khosa</h1>
      </div>
      <img
        src="images/mountain_6.webp"
        data-rotation="0.12"
        data-speedx="0.065"
        data-speedy="0.05"
        data-speedz="0.05"
        data-rotation="0.12"
        data-distance="2300"
        class="parallax mountain-6"
      />

      <img
        src="images/mountain_5.webp"
        data-rotation="0.1"
        data-speedx="0.08"
        data-speedy="0.03"
        data-speedz="0.1"
        data-rotation="0.05"
        data-distance="2600"
        class="parallax mountain-5"
      />

      <img
        src="images/mountain_4.webp"
        data-rotation="0.14"
        data-speedx="0.059"
        data-speedy="0.024"
        data-speedz="0.35"
        data-rotation="0.04"
        data-distance="2800"
        class="parallax mountain-4"
      />

      <img
        src="images/mountain_1.webp"
        data-rotation="0.05"
        data-speedx="0.04"
        data-speedy="0.018"
        data-speedz="0.32"
        data-rotation="0.05"
        data-distance="3000"
        class="parallax mountain-3"
      />

      <img
        src="images/mountain_4.webp"
        data-rotation="0.15"
        data-speedx="0.0235"
        data-speedy="0.013"
        data-speedz="0.42"
        data-rotation="0.15"
        data-distance="3400"
        class="parallax mountain-2"
      />
      <img
        src="images/mountain_1.webp"
        data-rotation="0.2"
        data-speedx="0.027"
        data-speedy="0.018"
        data-speedz="0.53"
        data-rotation="0"
        data-distance="3800"
        class="parallax mountain-1"
      />
      <img src="images/sun_rays.webp" class="sun-rays" data-distance="3900" />

      <img
        src="images/fog_11.png"
        data-speedx="0.12"
        data-speedy="0.01"
        data-speedz="0"
        data-rotation="0.2"
        data-distance="4200"
        class="parallax fog-1"
      />
    </main>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script type="text/javascript">
      function counter() {
        preloadImages();
        var count = setInterval(function () {
          var c = parseInt($(".counter").text());
          $(".counter").text((++c).toString());
          if (c == 100) {
            clearInterval(count);
            $(".counter").addClass("mide");
            $(".preloader").addClass("active");
          }
        }, 10);
      }
      preloadImages();
      counter();

      // Preload all images
      function preloadImages() {
        const images = [
          "images/background(1).webp",
          "images/mountain_8.png",
          "images/mountain_6.webp",
          "images/mountain_5.webp",
          "images/mountain_4.webp",
          "images/mountain_1.webp",
        ];

        images.forEach((src) => {
          const img = new Image();
          img.src = src;
        });

        function redirectToMainPage() {
          var destination = "portfolio.html";
          $("body").fadeOut(1000, function () {
            window.location.replace(destination);
          });
        }

        // make it to mobile only timeout

        // setTimeout(redirectToMainPage, 11000);

        function isMobileDevice() {
          return window.matchMedia("(max-width: 768px)").matches;
        }

        // Call setTimeout only if on a mobile device
        if (isMobileDevice()) {
          setTimeout(redirectToMainPage, 11000);
        }

        window.addEventListener("click", function () {
          var destination = "portfolio.html";
          $("body").fadeOut(1000, function () {
            window.location.replace(destination);
          });
        });
      }
    </script>
    <script src="app.js"></script>
   
  </body>
</html>
